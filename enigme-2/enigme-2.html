<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Description de votre site web">
    <title>Verrouillage du système principal</title>
    <link rel="stylesheet" href="engime-2.css">
    <style>
        /* Styles pour boutons d'indices désactivés */
        #hints-container button:disabled {
            background-color: #888;
            /* Couleur grise */
            cursor: not-allowed;
            /* Curseur désactivé */
        }
    </style>
</head>

<body>
    <video id="background-video" autoplay loop muted>
        <source src="background-video.mp4" type="video/mp4">
    </video>

    <h2 id="binary-text" class="binaire">01000111 01101111 01110100 01110100 01100110 01110010 01101001 01100101
        01100100 00100000 01001100 01100101 01101001 01100010 01101110 01101001 01111010</h2>

    <main>
        <section id="contact">
            <div>
                <form id="binary-form">
                    <div>
                        <label for="message">Réponse :</label>
                    </div>
                    <div>
                        <textarea id="message" name="message" required></textarea>
                    </div>
                    <div>
                        <button type="submit">Valider</button>
                    </div>
                </form>
            </div>
            <div id="response"></div> <!-- Zone pour afficher le résultat -->

            <div class="explications">
                <div id="image-container" style="display: none;">
                    <img src="Gottfried_Wilhelm_von_Leibniz.jpg" alt="Photo de Gottfried Wilhelm"
                        style="max-width: 300px; margin: 20px 0;">
                </div>
                <div id="explanation" style="display: none;">
                    <p>Le système de numération binaire moderne, base du code binaire, a été développé par Gottfried
                        Leibniz sur une période qui s'étend environ entre 1678 et 1703, date où paraît son article
                        "Explication de l'Arithmétique Binaire".</p>
                </div>
            </div>
        </section>

        <!-- Conteneur pour les boutons d'indices -->
        <div id="hints-container">
            <button id="hint1" disabled>Indice 1</button>
            <button id="hint2" disabled>Indice 2</button>
            <button id="hint3" disabled>Indice 3</button>
        </div>

        <!-- Bouton de redirection (initialement caché) -->
        <button id="redirect-button" style="display: none;">Accéder à la page suivante</button>

    </main>

    <script>
        // Traduction correcte
        const correctAnswer = "Gottfried Leibniz";

        // Formulaire et éléments
        const form = document.getElementById("binary-form");
        const messageField = document.getElementById("message");
        const responseDiv = document.getElementById("response");
        const imageDiv = document.getElementById("image-container");
        const explanationDiv = document.getElementById("explanation");
        const binaryText = document.getElementById("binary-text");

        // Permettre l'envoi avec la touche "Entrée" dans le textarea
            messageField.addEventListener("keydown", function (event) {
                if (event.key === "Enter") {
                    event.preventDefault(); // Empêche l'ajout d'un saut de ligne
                    form.dispatchEvent(new Event("submit")); // Déclenche la soumission du formulaire
                }
            });

        // Conteneur des indices
        const hint1Button = document.getElementById("hint1");
        const hint2Button = document.getElementById("hint2");
        const hint3Button = document.getElementById("hint3");
        const hintsContainer = document.getElementById("hints-container");

        // Bouton de redirection
        const redirectButton = document.getElementById("redirect-button");

        // Messages d'indice
        const hints = [
            "Indice 1 : Un nombre rempli de 0 et de 1 rappelle forcément un nombre binaire.",
            "Indice 2 : Un nombre binaire peut être traduit en texte.",
            "Indice 3 : Pour traduire le nombre binaire, vous pouvez vous rendre à cette adresse : https://usefulwebtool.com/fr/convertir-texte-en-binaire"
        ];

        // Fonction pour activer un bouton après un délai
        function enableHintButton(button, hintMessage, delay) {
            setTimeout(() => {
                button.disabled = false;
                button.style.backgroundColor = "#007BFF"; // Couleur normale
                button.style.cursor = "pointer";
                button.addEventListener("click", function () {
                    alert(hintMessage);
                });
            }, delay);
        }

        // Activer les boutons avec un délai spécifique
        enableHintButton(hint1Button, hints[0], 3 * 60 * 1000); // 3 minutes
        enableHintButton(hint2Button, hints[1], 6 * 60 * 1000); // 6 minutes
        enableHintButton(hint3Button, hints[2], 8 * 60 * 1000); // 8 minutes

        // Événement de soumission du formulaire
        form.addEventListener("submit", function (event) {
            event.preventDefault(); // Empêche le rechargement de la page

            const userAnswer = messageField.value.trim(); // Récupère et nettoie la réponse

            if (userAnswer === correctAnswer) {
                // Réponse correcte
                responseDiv.textContent = "Infiltration du système principal réussie.";
                responseDiv.style.color = "green";
                responseDiv.style.fontSize = "35px"; // Agrandit le texte

                // Masque le formulaire et le texte binaire
                form.style.display = "none"; // Cache le formulaire
                binaryText.style.display = "none"; // Cache le texte binaire

                // Affiche l'image et le texte explicatif
                imageDiv.style.display = "block"; // Rend la div visible
                explanationDiv.style.display = "block"; // Rend le texte explicatif visible

                // Affiche le bouton de redirection
                redirectButton.style.display = "block"; // Affiche le bouton de redirection

                // Cache les boutons d'indices
                hintsContainer.style.display = "none"; // Cache les boutons d'indices
            } else {
                // Réponse incorrecte
                responseDiv.textContent = "Mauvaise réponse. Infiltration du système principal échouée.";
                responseDiv.style.color = "red";
                responseDiv.style.fontSize = "20px"; // Agrandit légèrement pour les erreurs

                // Masque l'image et le texte explicatif si la réponse est incorrecte
                imageDiv.style.display = "none"; // Cache la div de l'image
                explanationDiv.style.display = "none"; // Cache le texte explicatif
            }
        });
    </script>
</body>

</html>
